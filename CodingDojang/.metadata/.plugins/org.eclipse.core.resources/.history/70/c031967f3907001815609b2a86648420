package tugOfWar;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.OptionalInt;
import java.util.stream.Collectors;

public class TugOfWar {

	public int[] tugOfWar(int[] arr) {

		Arrays.sort(arr);

		ArrayList<Integer> first = new ArrayList<Integer>();
		ArrayList<Integer> second = new ArrayList<Integer>();

		for (int ele : arr) {
			if (first.isEmpty())
				first.add(ele);
			else if (second.isEmpty())
				second.add(ele);

			else if (first.get(first.size() - 1) > second.get(second.size() - 1))
				second.add(ele);
			else
				first.add(ele);
		}
		

		if (first.size() > second.size()) {
			second.add(0);
			second = (ArrayList<Integer>) second.stream().sorted().collect(Collectors.toList());
		} else if (first.size() < second.size()) {
			first.add(0);
			first = (ArrayList<Integer>) first.stream().sorted().collect(Collectors.toList());
		}

		while (true) {
			int sumF = first.stream().mapToInt(m -> m).sum();
			int sumS = second.stream().mapToInt(m -> m).sum();

			if (sumF == sumS)
				return new int[] { sumF, sumS };

			if (sumF > sumS) {
				int minS = second.stream().mapToInt(m -> m).min().getAsInt();

				for (int i = 0; i < first.size(); i++)
					if (minS < first.get(i)) {
						second.add(first.get(i));
						first.add(minS);
						first.remove(i);
						second.remove(0);
						break;
					}

			} else if (sumF < sumS) {
				int minF = first.stream().mapToInt(m -> m).min().getAsInt();

				for (int i = 0; i < second.size(); i++)
					if (minF < second.get(i)) {
						first.add(second.get(i));
						second.add(minF);
						second.remove(i);
						first.remove(0);
						break;
					}
			}

			second = (ArrayList<Integer>) second.stream().sorted().collect(Collectors.toList());
			first = (ArrayList<Integer>) first.stream().sorted().collect(Collectors.toList());

			System.out.println(Arrays.toString(first.toArray()));
			System.out.println(Arrays.toString(second.toArray()));
		}
	}

	public static void main(String[] args) {

		TugOfWar tow = new TugOfWar();

		// @SuppressWarnings("resource")
		// Scanner scanner = new Scanner(System.in);
		// int n = scanner.nextInt();
		// int[] array = new int[n];

		// for (int i = 0; i < n; i++) {
		// array[i] = scanner.nextInt();
		// }
		int[] array = { 45, 55, 70, 60, 50, 75 };

		// System.out.println(Arrays.toString(tow.tugOfWar(array)));
		System.out.println(Arrays.toString(tow.tugOfWar(new int[] { 2, 3, 4, 7, 8 })));

	}
}
