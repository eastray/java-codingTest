package subdate;

public class Subdate {
	// 서력 기원 연수가 4로 나누어떨어지는 해는 윤년으로 한다.(1988년, 1992년, 1996년, 2004년, 2008년, 2012년
	// …)
	// 이 중에서 100으로 나누어떨어지는 해는 평년으로 한다.(1900년, 2100년, 2200년, 2300년, 2500년 …)
	// 그중에 400으로 나누어떨어지는 해는 윤년으로 둔다.(1600년, 2000년, 2400년 …)

	private boolean isLeapYear(int year) {

		if (year % 4 == 0)
			if (year % 100 == 0 && year % 400 != 0)
				return false;
			else
				return true;

		return false;
	}

	private int[] getDateToIntArray(int n) {

		String str = Integer.toString(n);

		if (str.length() != 8)
			return null;

		return new int[] { Integer.parseInt(str.substring(0, 5)), Integer.parseInt(str.substring(5, 7)),
				Integer.parseInt(str.substring(7, 9)) };
	}

	public int subdate(int n, int m) {
		int[] months = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };
		int result = 0;

		int[] nArray = getDateToIntArray(n);
		int[] mArray = getDateToIntArray(m);

		int year = mArray[0] - nArray[0];

		//years
		for (int i = 0; i < year; i++) {
			if (isLeapYear(nArray[0] + i))
				result += 1;

			result += 365;
		}
		
		//months and days
		int month = mArray[1] - nArray[1];
		
		if(month < 0){
			
			if(Math.abs(month) == 1)
				result -= (months[nArray[1]] -nArray[2]) + mArray[2]; 
			else {
				for(int i = mArray[1]+1; i < nArray[1]; i++)
					result -= 365;
				result -= (months[nArray[1]] -nArray[2]) + mArray[2]; 
			}
			
			
		} else if(month > 0){
			if(Math.abs(month) == 1)
				result+= (months[nArray[1]] - nArray[2]) + mArray[2];
			else{
				for(int i = nArray[1]+1; i< mArray[1]; i ++)
					result += 365;
				result+= (months[nArray[1]] - nArray[2]) + mArray[2];
			}
			
		}else{
			
		}
		

		return 0;
	}

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		Subdate sd = new Subdate();

		System.out.println(sd.subdate(20070505, 20070525));
	}

}
