package tugOfWar;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.stream.Collectors;

public class TugOfWar {

	@SuppressWarnings("rawtypes")
	private ArrayList<ArrayList> setArray(int[] arr) {
		ArrayList<Integer> first = new ArrayList<Integer>();
		ArrayList<Integer> second = new ArrayList<Integer>();

		for (int ele : arr) {
			if (first.isEmpty())
				first.add(ele);
			else if (second.isEmpty())
				second.add(ele);

			else if (first.get(first.size() - 1) > second.get(second.size() - 1))
				second.add(ele);
			else
				first.add(ele);
		}

		if (first.size() > second.size()) {
			second.add(0);
			second = (ArrayList<Integer>) second.stream().sorted().collect(Collectors.toList());
		} else if (first.size() < second.size()) {
			first.add(0);
			first = (ArrayList<Integer>) first.stream().sorted().collect(Collectors.toList());
		}

		ArrayList<ArrayList> list = new ArrayList<ArrayList>();
		list.add(first);
		list.add(second);

		return list;
	}

	@SuppressWarnings("rawtypes")
	private ArrayList<ArrayList> renewArray(ArrayList<Integer> first, ArrayList<Integer> second) {

		int minS = second.stream().mapToInt(m -> m).min().getAsInt();

		for (int i = 0; i < first.size(); i++)
			if (minS < first.get(i)) {
				second.add(first.get(i));
				first.add(minS);
				first.remove(i);
				second.remove(0);
				break;
			}

		ArrayList<ArrayList> list = new ArrayList<ArrayList>();
		list.add(first);
		list.add(second);

		return list;
	}

	@SuppressWarnings("unchecked")
	public int[] tugOfWar(int[] arr) {

		Arrays.sort(arr);

		@SuppressWarnings("rawtypes")
		ArrayList<ArrayList> list = setArray(arr);

		ArrayList<Integer> first = list.get(0);
		ArrayList<Integer> second = list.get(1);

		int diff = Integer.MAX_VALUE;
		int[] result = new int[2];

		for (int j = 0; j < arr.length; j++) {
			int sumF = first.stream().mapToInt(m -> m).sum();
			int sumS = second.stream().mapToInt(m -> m).sum();

			if (diff > Math.abs(sumF - sumS)) {
				diff = Math.abs(sumF - sumS);
				result[0] = sumF;
				result[1] = sumS;
			}

			if (sumF == sumS)
				return new int[] { sumF, sumS };

			if (sumF != sumS) {
				list = renewArray(first, second);

				first = (sumF > sumS) ? list.get(0) : list.get(1);
				second = (sumF > sumS) ? list.get(1) : list.get(0);
			}

			second = (ArrayList<Integer>) second.stream().sorted().collect(Collectors.toList());
			first = (ArrayList<Integer>) first.stream().sorted().collect(Collectors.toList());

		}

		return result;
	}

	public static void main(String[] args) {

		TugOfWar tow = new TugOfWar();

		// @SuppressWarnings("resource")
		// Scanner scanner = new Scanner(System.in);
		// int n = scanner.nextInt();
		// int[] array = new int[n];

		// for (int i = 0; i < n; i++) {
		// array[i] = scanner.nextInt();
		// }
		int[] array = { 45, 55, 70, 60, 50, 75 };

		System.out.println(Arrays.toString(tow.tugOfWar(array)));
		System.out.println(Arrays.toString(tow.tugOfWar(new int[] { 2, 3, 4, 7, 8 })));
		System.out.println(Arrays.toString(tow.tugOfWar(new int[] { 92, 56, 47, 82 })));
		System.out.println(Arrays.toString(tow.tugOfWar(new int[] { 50, 50, 100, 200 })));
		System.out.println(Arrays.toString(tow.tugOfWar(new int[] { 100, 90, 200 })));

	}
}
